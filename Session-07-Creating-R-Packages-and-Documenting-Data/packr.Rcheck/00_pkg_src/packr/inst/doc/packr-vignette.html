<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">



<title>packr-vignette</title>



<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>

<style type="text/css">
  p.abstract{
    text-align: center;
    font-weight: bold;
  }
  div.abstract{
    margin: auto;
    width: 90%;
  }
</style>


<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">packr-vignette</h1>
<div class="abstract">
<p class="abstract">Abstract</p>
An important element of reproducible research is documenting all steps of the process, including data analysis. This vignette, developed for the <code>packr</code> package (a minimal example of package building), will show how to document data analysis in a self-contained and reproducible document. To this end, the data set <code>energy_and_emissions</code> (included in the <code>packr</code> package) will be used.
</div>



<div id="introduction" class="section level2">
<h2>Introduction</h2>
<p>This vignette illustrate the use of the dataset and utility functions included in the package <code>packr</code>. I collected this data set initially to use in my course GEOG 3LT3: Transportation Geography. As part of this course, students examine some trends in transportation, including the use of energy and emissions. The objective of the practice is two-fold:</p>
<ol style="list-style-type: decimal">
<li><p>On the side of technology, the students are learning to work with R Notebooks and R. For this reason, all code is documented so that the students can see <em>how</em> things are done.</p></li>
<li><p>On the side of transportation geography, the students are learning to discern trends, and in particular how some</p></li>
</ol>
<p>, the students learn how to introduce chunks of code in R Notebooks/</p>
</div>
<div id="preliminaries" class="section level2">
<h2>Preliminaries</h2>
<p>Load the packages used in this vignette:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">library</span>(packr)</a>
<a class="sourceLine" id="cb1-2" title="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#&gt; -- Attaching packages ---- tidyverse 1.2.1 --</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#&gt; v ggplot2 3.2.1     v purrr   0.3.3</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#&gt; v tibble  2.1.3     v dplyr   0.8.3</span></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">#&gt; v tidyr   1.0.0     v stringr 1.4.0</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#&gt; v readr   1.3.1     v forcats 0.4.0</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="co">#&gt; -- Conflicts ------- tidyverse_conflicts() --</span></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">#&gt; x dplyr::filter() masks stats::filter()</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">#&gt; x dplyr::lag()    masks stats::lag()</span></a></code></pre></div>
</div>
<div id="loading-the-data" class="section level2">
<h2>Loading the data</h2>
<p>To load the data, use the function <code>data()</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">data</span>(<span class="st">&quot;energy_and_emmisions&quot;</span>)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="co">#&gt; Warning in data(&quot;energy_and_emmisions&quot;): data set &#39;energy_and_emmisions&#39;</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="co">#&gt; not found</span></a></code></pre></div>
<p>To inspect the dataframe, use the function <code>summary()</code></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">summary</span>(energy_and_emissions)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="co">#&gt;                 Country         Area            Population       </span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">#&gt;  AFGHANISTAN        :  1   Min.   :      54   Min.   :5.292e+03  </span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">#&gt;  ALBANIA            :  1   1st Qu.:   25618   1st Qu.:1.955e+06  </span></a>
<a class="sourceLine" id="cb3-5" title="5"><span class="co">#&gt;  ALGERIA            :  1   Median :  113098   Median :8.101e+06  </span></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#&gt;  ANGOLA             :  1   Mean   :  666756   Mean   :3.847e+07  </span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt;  ANTIGUA AND BARBUDA:  1   3rd Qu.:  479278   3rd Qu.:2.558e+07  </span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt;  ARGENTINA          :  1   Max.   :16377742   Max.   :1.379e+09  </span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt;  (Other)            :182                                         </span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">#&gt;             PYear         GDPPC            bblpd           EYear    </span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="co">#&gt;  JULY 2017 EST.:188   Min.   :   145   Min.   :     400   2014:148  </span></a>
<a class="sourceLine" id="cb3-12" title="12"><span class="co">#&gt;                       1st Qu.:  1817   1st Qu.:   13000   2015: 34  </span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="co">#&gt;                       Median :  5620   Median :   53000   2016:  6  </span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="co">#&gt;                       Mean   : 13572   Mean   :  490635             </span></a>
<a class="sourceLine" id="cb3-15" title="15"><span class="co">#&gt;                       3rd Qu.: 16148   3rd Qu.:  255500             </span></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="co">#&gt;                       Max.   :100161   Max.   :19530000             </span></a>
<a class="sourceLine" id="cb3-17" title="17"><span class="co">#&gt;                                                                     </span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="co">#&gt;     CO2_1995          CO2_2005          CO2_2015       </span></a>
<a class="sourceLine" id="cb3-19" title="19"><span class="co">#&gt;  Min.   :     12   Min.   :     14   Min.   :      28  </span></a>
<a class="sourceLine" id="cb3-20" title="20"><span class="co">#&gt;  1st Qu.:    936   1st Qu.:   1379   1st Qu.:    2153  </span></a>
<a class="sourceLine" id="cb3-21" title="21"><span class="co">#&gt;  Median :   6661   Median :   8434   Median :   10062  </span></a>
<a class="sourceLine" id="cb3-22" title="22"><span class="co">#&gt;  Mean   : 121256   Mean   : 152549   Mean   :  184978  </span></a>
<a class="sourceLine" id="cb3-23" title="23"><span class="co">#&gt;  3rd Qu.:  61534   3rd Qu.:  62283   3rd Qu.:   75294  </span></a>
<a class="sourceLine" id="cb3-24" title="24"><span class="co">#&gt;  Max.   :5294648   Max.   :6174717   Max.   :10641789  </span></a>
<a class="sourceLine" id="cb3-25" title="25"><span class="co">#&gt; </span></a></code></pre></div>
<p>The data frame consists of 10 variables. The variable definitions can be consulted in the help file:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">?energy_and_emissions</a></code></pre></div>
</div>
<div id="are-population-and-oil-consumption-related" class="section level2">
<h2>Are population and oil consumption related?</h2>
<p>The dataframe includes information on population, GDP per capita, energy consumption, and emissions for world countries. The consumption of energy (in barrels per day) is for the country. We can plot these two variables to see if there is a trend. We use <code>ggplot2</code> to create a plot and the geometric object <em>points</em> (<code>geom_points</code>) to create a scatterplot, with aesthetic values <code>x = Population</code> and <code>y = bblpd</code>, so that the values of population are mapped to the x-axis, and the values of energy consumption are mapped to the y-axis:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> energy_and_emissions, <span class="kw">aes</span>(<span class="dt">x =</span> Population, <span class="dt">y =</span> bblpd)) <span class="op">+</span></a>
<a class="sourceLine" id="cb5-2" title="2"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Not suprisingly, there is a strong association between these two variables, since countries with big populations will consume more energy than small countries with small populations. This is not very informative, because the underlying relationship is simply size.</p>
</div>
<div id="what-is-the-per-capita-consumption-of-oil-by-country" class="section level2">
<h2>What is the per capita consumption of oil by country?</h2>
<p>Instead of exploring energy consumption by population, we will look at energy consumption per capita. This is a more informative variable, because it normalizes by size, and potentially can tell us something about the <em>intensity</em> and/or <em>efficiency</em> of energy use. However, energy consumption per capita is not one of the variables in the dataset. We need to divide the variable <code>bblpd</code> by <code>Population</code>. Use <code>dplyr::mutate()</code> to add this variable to the dataframe:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">energy_and_emissions &lt;-<span class="st"> </span>energy_and_emissions <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">EPC =</span> bblpd<span class="op">/</span>Population)</a></code></pre></div>
<p>Check the descriptive statistics of <code>EPC</code> (energy consumption in barrels per day per person):</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1"><span class="kw">summary</span>(energy_and_emissions<span class="op">$</span>EPC)</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="co">#&gt;      Min.   1st Qu.    Median      Mean   3rd Qu.      Max. </span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">#&gt; 0.0001308 0.0035039 0.0107354 0.0211934 0.0270790 0.2193948</span></a></code></pre></div>
<p>The maximum consumption is approximately 0.22 barrels per person per day. Which country is that?</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1">energy_and_emissions[energy_and_emissions<span class="op">$</span>EPC <span class="op">==</span><span class="st"> </span><span class="kw">max</span>(energy_and_emissions<span class="op">$</span>EPC), <span class="st">&quot;Country&quot;</span>]</a>
<a class="sourceLine" id="cb8-2" title="2"><span class="co">#&gt; # A tibble: 1 x 1</span></a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co">#&gt;   Country  </span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="co">#&gt;   &lt;fct&gt;    </span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="co">#&gt; 1 SINGAPORE</span></a></code></pre></div>
<p>The country with the highest per capita oil consumption in the world according the the data is Singapore.</p>
</div>
<div id="are-gdp-per-capita-and-energy-consumption-per-capita-related" class="section level2">
<h2>Are GDP per capita and energy consumption per capita related?</h2>
<p>To answer this question, we can create a scatterplot of the two variables:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">ggplot</span>(<span class="dt">data =</span> energy_and_emissions, <span class="kw">aes</span>(<span class="dt">x =</span> GDPPC, <span class="dt">y =</span> EPC)) <span class="op">+</span></a>
<a class="sourceLine" id="cb9-2" title="2"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Calculate the correlation between these two variables:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1"><span class="kw">cor</span>(energy_and_emissions<span class="op">$</span>GDPPC, energy_and_emissions<span class="op">$</span>EPC)</a>
<a class="sourceLine" id="cb10-2" title="2"><span class="co">#&gt; [1] 0.6239777</span></a></code></pre></div>
<p>There is a moderately strong correlation between these two variables.</p>
<p>What do we learn from this analysis? And how would you extend this analysis?</p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
